(function(b,c,d){var a=b.editors.TextEditor.prototype.extend();a.prototype.getValue=function(){return c(this.TEXTAREA).val()};a.prototype.setValue=function(a){c(this.TEXTAREA).val(a)};a.prototype.open=function(){this.refreshDimensions();c(this.TEXTAREA).ckeditor({toolbarGroups:[{name:"clipboard",groups:["undo","selection","clipboard","doctools"]},{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"links"}],removeButtons:"Iframe,Image,Table",enterMode:d.ENTER_BR,shiftEnterMode:d.ENTER_P,on:{instanceReady:function(){this.dataProcessor.writer.selfClosingEnd=
">";this.dataProcessor.writer.setRules("br",{indent:!1,breakBeforeOpen:!1,breakAfterOpen:!1,breakBeforeClose:!1,breakAfterClose:!1})}}})};a.prototype.close=function(){c(this.TEXTAREA).ckeditor().editor.destroy();var a=this.getValue().trim(),b=a.replace(/(<([^>]+)>)/ig,"");a==="<p>"+b+"</p>"&&this.setValue(b);this.textareaParentStyle.display="none";this.autoResize.unObserve();document.activeElement===this.TEXTAREA&&this.instance.listen()};b.editors.registerEditor("rtfEditor",a)})(Handsontable,jQuery,
CKEDITOR);
