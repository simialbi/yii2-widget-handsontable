(function(d,b,e){var c=d.editors.TextEditor.prototype.extend();c.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA");this.TEXTAREA.tabIndex=-1;this.textareaStyle=this.TEXTAREA.style;this.textareaStyle.width=0;this.textareaStyle.height=0;this.TEXTAREA_PARENT=document.createElement("DIV");b(this.TEXTAREA_PARENT).addClass("handsontableInputHolder");this.textareaParentStyle=this.TEXTAREA_PARENT.style;this.textareaParentStyle.zIndex="-1";this.TEXTAREA_PARENT.appendChild(this.TEXTAREA);
this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);b(this.TEXTAREA).ckeditor({toolbarGroups:[{name:"clipboard",groups:["undo","selection","clipboard","doctools"]},{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"links"}],removeButtons:"Iframe,Image,Table",enterMode:e.ENTER_BR,shiftEnterMode:e.ENTER_P,on:{instanceReady:function(){this.dataProcessor.writer.selfClosingEnd=">";this.dataProcessor.writer.setRules("br",{indent:!1,breakBeforeOpen:!1,breakAfterOpen:!1,breakBeforeClose:!1,
breakAfterClose:!1})}}})};c.prototype.setValue=function(a){a.match(/^<[^>]+>/ig)||(a="<p>"+a+"</p>");b(this.TEXTAREA).ckeditor().editor.setData(a);d.editors.TextEditor.prototype.setValue.call(this,a)};c.prototype.getValue=function(){return b(this.TEXTAREA).ckeditor().editor.getData().trim()};d.editors.registerEditor("rtfEditor",c)})(Handsontable,jQuery,CKEDITOR);
