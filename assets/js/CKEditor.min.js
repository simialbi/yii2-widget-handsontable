(function(d,c,b){var a=d.editors.TextEditor.prototype.extend();a.prototype.getValue=function(){return c(this.TEXTAREA).val()};a.prototype.setValue=function(a){c(this.TEXTAREA).val(a)};a.prototype.open=function(){this.refreshDimensions();c(this.TEXTAREA).ckeditor({toolbarGroups:[{name:"clipboard",groups:["undo","selection","clipboard","doctools"]},{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"links"}],removeButtons:"Iframe,Image,Table",enterMode:b.ENTER_BR,shiftEnterMode:b.ENTER_P,on:{instanceReady:function(){this.dataProcessor.writer.selfClosingEnd=
">";this.dataProcessor.writer.setRules("br",{indent:!1,breakBeforeOpen:!1,breakAfterOpen:!1,breakBeforeClose:!1,breakAfterClose:!1})}}})};a.prototype.finishEditing=function(a,f,b){var e=c(".cke_dialog");e.length&&e.is(":visible")||d.editors.TextEditor.prototype.finishEditing.call(this,a,f,b)};a.prototype.close=function(){c(this.TEXTAREA).ckeditor().editor.destroy();var a=this.getValue().trim(),b=a.replace(/(<([^>]+)>)/ig,"");a==="<p>"+b+"</p>"&&this.setValue(b);this.textareaParentStyle.display="none";
this.autoResize.unObserve();document.activeElement===this.TEXTAREA&&this.instance.listen()};d.editors.registerEditor("rtfEditor",a)})(Handsontable,jQuery,CKEDITOR);
